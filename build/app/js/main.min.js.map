{"version":3,"sources":["./src/app/js/base.js"],"names":["socket","io","raycaster","THREE","Raycaster","scene","camera","renderer","controls","ambientLight","directionalLight","cube","lastTime","players","keys","document","addEventListener","e","keyCode","generateUUID","d","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","init","Scene","PerspectiveCamera","window","innerWidth","innerHeight","add","WebGLRenderer","alpha","antialias","setSize","body","appendChild","domElement","AmbientLight","DirectionalLight","position","set","normalize","plane","Mesh","PlaneBufferGeometry","MeshPhongMaterial","specular","color","emissive","shininess","setWindowSize","aspect","updateProjectionMatrix","Player","geometry","BoxGeometry","material","map","ImageUtils","loadTexture","f1","Vector2","f2","f3","f4","f5","f6","faceVertexUvs","player","overdraw","addPlayer","user","id","name","obj","Vector3","x","y","z","rotation","_x","_y","_z","lastPos","sequences","rays","caster","copy","console","log","on","emit","users","remove","cameraPos","o","t","lookAt","movingObj","b","l","sequenceUUID","push","posX","posY","ray","sequence","shift","animate","requestAnimationFrame","now","deltaTime","undefined","rayBottom","intersectPlane","intersectObject","getObjectById","length","render","script","createElement","onload","stats","Stats","style","cssText","loop","update","src","head"],"mappings":"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","file":"./build/app/js/main.min.js"}