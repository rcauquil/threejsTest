function init(){scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,.1,1e3),camera.rotation.x=.2,camera.position.y=-15,camera.position.z=20,scene.add(camera),renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),effect=new THREE.StereoEffect(renderer),ambientLight=new THREE.AmbientLight(12303291),scene.add(ambientLight),directionalLight=new THREE.DirectionalLight(16777215),directionalLight.position.set(1,1,.5).normalize(),scene.add(directionalLight);var geometry=new THREE.BoxGeometry(5,5,5);materialSimple=new THREE.MeshLambertMaterial({map:THREE.ImageUtils.loadTexture("assets/02-box.jpg")});var material=new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture("img/box-map.jpg")}),f1=[new THREE.Vector2(0,.666),new THREE.Vector2(.5,.666),new THREE.Vector2(.5,1),new THREE.Vector2(0,1)],f2=[new THREE.Vector2(.5,.666),new THREE.Vector2(1,.666),new THREE.Vector2(1,1),new THREE.Vector2(.5,1)],f3=[new THREE.Vector2(0,.333),new THREE.Vector2(.5,.333),new THREE.Vector2(.5,.666),new THREE.Vector2(0,.666)],f4=[new THREE.Vector2(.5,.333),new THREE.Vector2(1,.333),new THREE.Vector2(1,.666),new THREE.Vector2(.5,.666)],f5=[new THREE.Vector2(0,0),new THREE.Vector2(.5,0),new THREE.Vector2(.5,.333),new THREE.Vector2(0,.333)],f6=[new THREE.Vector2(.5,0),new THREE.Vector2(1,0),new THREE.Vector2(1,.333),new THREE.Vector2(.5,.333)];geometry.faceVertexUvs[0]=[],geometry.faceVertexUvs[0][0]=[f1[0],f1[1],f1[3]],geometry.faceVertexUvs[0][1]=[f1[1],f1[2],f1[3]],geometry.faceVertexUvs[0][2]=[f2[0],f2[1],f2[3]],geometry.faceVertexUvs[0][3]=[f2[1],f2[2],f2[3]],geometry.faceVertexUvs[0][4]=[f3[0],f3[1],f3[3]],geometry.faceVertexUvs[0][5]=[f3[1],f3[2],f3[3]],geometry.faceVertexUvs[0][6]=[f4[0],f4[1],f4[3]],geometry.faceVertexUvs[0][7]=[f4[1],f4[2],f4[3]],geometry.faceVertexUvs[0][8]=[f5[0],f5[1],f5[3]],geometry.faceVertexUvs[0][9]=[f5[1],f5[2],f5[3]],geometry.faceVertexUvs[0][10]=[f6[0],f6[1],f6[3]],geometry.faceVertexUvs[0][11]=[f6[1],f6[2],f6[3]],cube=new THREE.Mesh(geometry,material),cube.overdraw=!0,cube.position.z=2.5,scene.add(cube);var plane=new THREE.Mesh(new THREE.PlaneBufferGeometry(10,10),new THREE.MeshNormalMaterial);plane.overdraw=!0,scene.add(plane),controls=new THREE.OrbitControls(camera),controls.addEventListener("change",render),controls.target.set(0,0,0),controls.noPan=!0,controls.noZoom=!1}function setWindowSize(){switch(camera.aspect=window.innerWidth/window.innerHeight,setView.vrMode){case!1:renderer.setSize(window.innerWidth,window.innerHeight);break;case!0:effect.setSize(window.innerWidth,window.innerHeight);break;default:renderer.setSize(window.innerWidth,window.innerHeight)}camera.updateProjectionMatrix()}function rotateZ(elem,speed){elem.rotation.z+=speed}function moveObject(){switch(event.keyCode){case 38:cube.position.y+=.6;break;case 40:cube.position.y-=.6;break;case 37:cube.position.x-=.6;break;case 39:cube.position.x+=.6}}function animate(){requestAnimationFrame(animate),rotateZ(cube,ctrlView.rotation),controls.update(),render(setView.vrMode)}function changeView(){switch(event.keyCode){case 78:setView.vrMode=!1;break;case 83:setView.vrMode=!0;break;default:setView.vrMode=setView.vrMode}}function render(mode){switch(setView.vrMode){case!1:renderer.render(scene,camera);break;case!0:effect.render(scene,camera);break;default:renderer.render(scene,camera)}setWindowSize()}var scene,camera,renderer,effect,controls,material,materialf3,ambientLight,directionalLight,cube,setView={vrMode:!1},ctrlView={rotation:.01};window.onload=function(){var gui=new dat.GUI;gui.add(ctrlView,"rotation").min(-.1).max(.1).step(.01),gui.add(setView,"vrMode")},document.addEventListener("keydown",moveObject,!1),document.addEventListener("keydown",changeView,!1),init(),render(setView.vrMode),animate(),function(){var script=document.createElement("script");script.onload=function(){var stats=new Stats;stats.domElement.style.cssText="position:fixed;left:0;top:0;z-index:10000",document.body.appendChild(stats.domElement),requestAnimationFrame(function loop(){stats.update(),requestAnimationFrame(loop)})},script.src="//rawgit.com/mrdoob/stats.js/master/build/stats.min.js",document.head.appendChild(script)}();
//# sourceMappingURL=../maps/main.min.js.map